{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../help/help.component\";\nimport * as i3 from \"../map/map.component\";\nimport * as i4 from \"../ziel/ziel.component\";\nfunction FotoOlComponent_div_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.getHint());\n  }\n}\nfunction FotoOlComponent_div_0_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function FotoOlComponent_div_0_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.getHint());\n    });\n    i0.ɵɵtext(1, \"Keine Ahnung wo das Foto aufgenommen wurde. Hilf mir auf die Spr\\u00FCnge\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FotoOlComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"img\", 1);\n    i0.ɵɵtemplate(4, FotoOlComponent_div_0_div_4_Template, 2, 1, \"div\", 0);\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, FotoOlComponent_div_0_button_7_Template, 2, 0, \"button\", 2);\n    i0.ɵɵelement(8, \"br\")(9, \"br\");\n    i0.ɵɵelementStart(10, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function FotoOlComponent_div_0_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.setCurrentCoordinates());\n    });\n    i0.ɵɵtext(11, \"Ich bin am Punkt wo Fotografiert wurde\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" Wandere zur Position wo dieses Foto (\", ctx_r0.index + 1, \"/\", ctx_r0.photos.length, \") aufgenommen wurde. \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r0.getPhotoUrl(), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showHint);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" Strafpunkte \", ctx_r0.result, \" m, Distanz zu letzem Foto \", ctx_r0.lastDistance, \"m \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.showHint);\n  }\n}\nfunction FotoOlComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"app-help\", 4);\n    i0.ɵɵlistener(\"teamName\", function FotoOlComponent_div_1_Template_app_help_teamName_1_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.setTeamName($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction FotoOlComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function FotoOlComponent_div_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.start());\n    });\n    i0.ɵɵtext(2, \" Starte Foto-OL \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"title\", ctx_r2.teamName ? \"\" : \"zuerst Teamnamen eingeben\");\n    i0.ɵɵproperty(\"disabled\", ctx_r2.teamName == \"\");\n  }\n}\nfunction FotoOlComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function FotoOlComponent_div_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.nextPhoto());\n    });\n    i0.ɵɵtext(2, \"Ja diese Position ist OK\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"app-map\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"center\", ctx_r3.center);\n  }\n}\nfunction FotoOlComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"app-ziel\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Distanz zu letzem Foto \", ctx_r4.lastDistance, \"m \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"result\", ctx_r4.result)(\"teamName\", ctx_r4.teamName);\n  }\n}\nexport class FotoOlComponent {\n  constructor() {\n    this.teamName = '';\n    // aktuelle Koordinaten mit o,o initialisieren\n    this.center = {\n      lng: 0,\n      lat: 0\n    };\n    // Strafpunkte (Summe der Distanz in Meter von den Foto-Koordinaten).\n    this.result = 0;\n    // Ablaufsteuerung\n    this.showHelp = true;\n    this.hasStarted = false;\n    this.showFotos = false;\n    this.showMap = false;\n    this.showHint = false;\n    this.amZiel = false;\n    // Index des zu suchenden Fotos\n    this.index = 0;\n    // Fotos mit ihren Koordinaten und Hilfetexten.\n    this.photos = [{\n      photoUrl: '../../assets/images/Bild.1.jpeg',\n      coordinates: {\n        lat: 46.773503,\n        lng: 7.635052\n      },\n      hint: 'Bushaltestelle Ziegeieistrasse'\n    }, {\n      photoUrl: '../../assets/images/Bild.2.jpeg',\n      coordinates: {\n        lat: 46.774693,\n        lng: 7.636625\n      },\n      hint: 'Obere Ecke Bösbachstrasse'\n    }, {\n      photoUrl: '../../assets/images/Bild.3.jpeg',\n      coordinates: {\n        lat: 46.775042,\n        lng: 7.634388\n      },\n      hint: 'Bösbach-Finkenweg'\n    }, {\n      photoUrl: '../../assets/images/Bild.4.jpg',\n      coordinates: {\n        lat: 46.773958,\n        lng: 7.633619\n      },\n      hint: 'Lin Den Weg'\n    }];\n    this.lastDistance = 0;\n  }\n  setTeamName(teamName) {\n    this.teamName = teamName;\n  }\n  start() {\n    if (this.teamName != '') {\n      this.showHelp = false;\n      this.hasStarted = true;\n      this.showFotos = true;\n    }\n  }\n  getPhotoUrl() {\n    return this.photos[this.index].photoUrl;\n  }\n  setCurrentCoordinates() {\n    navigator.geolocation.getCurrentPosition(position => {\n      this.center = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n      console.log(\"setCurrentCoordinates center:\", this.center);\n    });\n    this.showMap = true;\n  }\n  nextPhoto() {\n    this.showHint = false;\n    this.lastDistance = this.getDistance();\n    this.result += this.lastDistance;\n    this.showMap = false;\n    this.index++;\n    if (this.index >= this.photos.length) {\n      this.amZiel = true;\n      this.showFotos = false;\n    }\n  }\n  getHint() {\n    if (!this.showHint) {\n      this.result += 10;\n    }\n    this.showHint = true;\n    return this.photos[this.index].hint;\n  }\n  getDistance() {\n    const x1 = this.center?.lat;\n    const x2 = this.photos[this.index].coordinates.lat;\n    const y1 = this.center?.lng;\n    const y2 = this.photos[this.index].coordinates.lng;\n    const a = x1 - x2;\n    const b = y1 - y2;\n    const c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2));\n    return Math.trunc(c * 1000); //in Meter umrechnen\n  }\n}\n\nFotoOlComponent.ɵfac = function FotoOlComponent_Factory(t) {\n  return new (t || FotoOlComponent)();\n};\nFotoOlComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FotoOlComponent,\n  selectors: [[\"app-foto-ol\"]],\n  inputs: {\n    teamName: \"teamName\"\n  },\n  decls: 5,\n  vars: 5,\n  consts: [[4, \"ngIf\"], [\"height\", \"300px\", \"alt\", \"\", 3, \"src\"], [3, \"click\", 4, \"ngIf\"], [3, \"click\"], [3, \"teamName\"], [3, \"disabled\", \"title\", \"click\"], [3, \"center\"], [3, \"result\", \"teamName\"]],\n  template: function FotoOlComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, FotoOlComponent_div_0_Template, 12, 7, \"div\", 0);\n      i0.ɵɵtemplate(1, FotoOlComponent_div_1_Template, 2, 0, \"div\", 0);\n      i0.ɵɵtemplate(2, FotoOlComponent_div_2_Template, 3, 2, \"div\", 0);\n      i0.ɵɵtemplate(3, FotoOlComponent_div_3_Template, 4, 1, \"div\", 0);\n      i0.ɵɵtemplate(4, FotoOlComponent_div_4_Template, 3, 3, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.showFotos);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showHelp);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.hasStarted);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showMap);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.amZiel);\n    }\n  },\n  dependencies: [i1.NgIf, i2.HelpComponent, i3.MapComponent, i4.ZielComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","FotoOlComponent","constructor","lng","lat","photoUrl","coordinates","hint","setTeamName","teamName","start","showHelp","hasStarted","showFotos","getPhotoUrl","photos","index","setCurrentCoordinates","navigator","geolocation","getCurrentPosition","position","center","coords","latitude","longitude","console","log","showMap","nextPhoto","showHint","lastDistance","getDistance","result","length","amZiel","getHint","x1","x2","y1","y2","a","b","c","Math","sqrt","pow","trunc","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/xander/git.FotoOL/FotoOL/src/app/foto-ol/foto-ol.component.html","/Users/xander/git.FotoOL/FotoOL/src/app/foto-ol/foto-ol.component.ts"],"sourcesContent":["<div *ngIf=\"showFotos\">\n  <p>\n    Wandere zur Position wo dieses Foto ({{index+1}}/{{photos.length}}) aufgenommen wurde.\n  </p>\n  <img src=\"{{getPhotoUrl()}}\" height=\"300px\" alt=\"\"/>\n\n\n  <div *ngIf=\"showHint\">{{getHint()}}</div>\n  <p>\n    Strafpunkte {{result}} m,\n    Distanz zu letzem Foto {{lastDistance}}m\n  </p>\n\n  <button *ngIf=\"!showHint\" (click)=\"getHint()\">Keine Ahnung wo das Foto aufgenommen wurde. Hilf mir auf die Sprünge</button>\n  <br><br>\n  <button (click)=\"setCurrentCoordinates()\">Ich bin am Punkt wo Fotografiert wurde</button>\n</div>\n\n<div *ngIf=\"showHelp\">\n  <app-help (teamName)=\"setTeamName($event)\"></app-help>\n</div>\n\n<div *ngIf=\"!hasStarted\">\n  <button (click)=\"start()\"\n          [disabled]=\"teamName == ''\"\n          title=\"{{teamName?'':'zuerst Teamnamen eingeben'}}\">\n    Starte Foto-OL\n  </button>\n</div>\n\n<div *ngIf=\"showMap\">\n  <button (click)=\"nextPhoto()\">Ja diese Position ist OK</button>\n  <app-map [center]=\"center\"></app-map>\n</div>\n\n<div *ngIf=\"amZiel\">\n  Distanz zu letzem Foto {{lastDistance}}m\n  <app-ziel [result]=result [teamName]=\"teamName\"></app-ziel>\n</div>\n\n","import {Component, Input} from '@angular/core';\n\n@Component({\n  selector: 'app-foto-ol',\n  templateUrl: './foto-ol.component.html',\n  styleUrls: ['./foto-ol.component.css']\n})\nexport class FotoOlComponent {\n  @Input() teamName: string ='';\n  // aktuelle Koordinaten mit o,o initialisieren\n  center: { lng: number; lat: number; } = {lng: 0, lat: 0};\n\n  // Strafpunkte (Summe der Distanz in Meter von den Foto-Koordinaten).\n  result = 0;\n\n  // Ablaufsteuerung\n  showHelp = true;\n\n  hasStarted = false;\n  showFotos = false;\n  showMap = false;\n  showHint = false;\n  amZiel = false;\n\n  // Index des zu suchenden Fotos\n  index = 0;\n\n  // Fotos mit ihren Koordinaten und Hilfetexten.\n  photos = [\n    {\n      photoUrl: '../../assets/images/Bild.1.jpeg',\n      coordinates: {\n        lat: 46.773503,\n        lng: 7.635052\n      },\n      hint: 'Bushaltestelle Ziegeieistrasse'\n    },\n    {\n      photoUrl: '../../assets/images/Bild.2.jpeg',\n      coordinates: {\n        lat: 46.774693,\n        lng: 7.636625\n      },\n      hint: 'Obere Ecke Bösbachstrasse'\n    },\n    {\n      photoUrl: '../../assets/images/Bild.3.jpeg',\n      coordinates: {\n        lat: 46.775042,\n        lng: 7.634388\n      },\n      hint: 'Bösbach-Finkenweg'\n    },\n    {\n      photoUrl: '../../assets/images/Bild.4.jpg',\n      coordinates: {\n        lat: 46.773958,\n        lng: 7.633619\n      },\n      hint: 'Lin Den Weg'\n    }\n  ];\n  lastDistance = 0;\n  setTeamName(teamName: string) {\n    this.teamName = teamName;\n  }\n\n  start() {\n    if (this.teamName != '') {\n      this.showHelp = false;\n      this.hasStarted = true;\n      this.showFotos = true;\n    }\n  }\n\n  getPhotoUrl() {\n    return (this.photos)[this.index].photoUrl;\n  }\n  setCurrentCoordinates() {\n    navigator.geolocation.getCurrentPosition((position) => {\n      this.center = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude,\n      };\n      console.log(\"setCurrentCoordinates center:\",this.center);\n    });\n    this.showMap = true;\n  }\n\n  nextPhoto() {\n    this.showHint = false;\n    this.lastDistance = this.getDistance();\n    this.result += this.lastDistance;\n    this.showMap = false;\n    this.index ++;\n    if (this.index >= this.photos.length) {\n      this.amZiel = true;\n      this.showFotos = false;\n    }\n  }\n\n  getHint() {\n    if (!this.showHint) {\n      this.result += 10\n    }\n    this.showHint = true;\n    return (this.photos)[this.index].hint;\n  }\n\n  getDistance(): number {\n    const x1 = this.center?.lat;\n    const x2 = this.photos[this.index].coordinates.lat;\n    const y1 = this.center?.lng;\n    const y2 = this.photos[this.index].coordinates.lng;\n\n    const a = x1 - x2;\n    const b = y1 - y2;\n    const c = Math.sqrt(Math.pow(a,2) + Math.pow(b,2));\n\n    return Math.trunc(c * 1000); //in Meter umrechnen\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
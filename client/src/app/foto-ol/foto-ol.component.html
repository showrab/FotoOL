<!-- Spielregeln anzeigen -->
<div *ngIf="show(FotoOlState.showHelp)">
  <app-help (teamNameEmitter)="setTeamName($event)"
            (teamErr)="setTeamError($event)"
            (showHighScore)="doShowHighScore($event)"
            [hintPenalty]="hintPenalty"
            [teamName]="teamName"
  ></app-help>
  <p>
    Wähle die Tour aus:
  </p>
  <span *ngFor="let tour of tourList">
    <button class="button" (click)="start(tour.tourName)" [disabled]="hasTour(tour.tourName)"
            title="{{teamName?'':'zuerst Teamnamen eingeben'}}">{{tour.tourName}}</button>&nbsp;
  </span>
  <br>
  <br>
</div>

<!-- Ein Foto nach dem anderen anzeigen -->
<div *ngIf="show(FotoOlState.showFotos)">
  <p>
    Wandere zur Position wo dieses Foto ({{index+1}}/{{photos!.length}}) aufgenommen wurde.
  </p>
  <img src="{{getPhotoUrl()}}" height="300px" alt=""/>


  <div *ngIf="showHint">
    <app-hint [hintText]="getHint()"></app-hint>
  </div>

  <p>
    Strafpunkte {{result}}m,
    Distanz zu letzem Foto {{lastDistance}}m
  </p>

  <button *ngIf="!showHint" (click)="getHint()"class="button">Keine Ahnung wo das Foto aufgenommen wurde. Hilf mir auf die Sprünge</button>
  <br><br>
  <button (click)="setCurrentCoordinates()" class="button">Ich bin am Punkt wo Fotografiert wurde</button>
</div>

<!-- ToDo: @Martin OSM einblenden um die Position zu kontrollieren -->
<div *ngIf="showMap">
  <button (click)="nextPhoto()" class="button">Ja diese Position ist OK</button>
  <app-map [center]="center"></app-map>
</div>

<!-- High Score anzeigen -->
<div *ngIf="show(FotoOlState.amZiel)">
  <h2>Du bist im Ziel</h2>
  <p>
    Distanz zu letzem Foto war {{lastDistance}}m.
    Gratuliere {{teamName}} du hast die Fotos nur um gesamt <b>{{result}}m</b> verfehlt.
  </p>
</div>
<div *ngIf="show(FotoOlState.showHighScore)">
  <app-ziel [isAdmin]="false"
            [tourName]="tourName"
  ></app-ziel>
  <br>
  <button class="button" (click)="doShowHelp()">Starte Foto-OL nochmals</button>
</div>

<!--Alle High Score anzeigeb-->
<div *ngIf="show(FotoOlState.showAllHighScore)">
  <app-all-high-score
    [tourList]="tourList"
    [isAdmin]="false"
  ></app-all-high-score>
  <br>
  <button class="button" (click)="doShowHelp()">Starte Foto-OL nochmals</button>
</div>

<!--  Admin Seite anzeigen -->
<app-admin
  *ngIf="show(FotoOlState.showAdmin)"
  (start)="init()">
</app-admin>
